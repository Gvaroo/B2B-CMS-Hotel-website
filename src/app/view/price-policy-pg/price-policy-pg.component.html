<app-banner></app-banner>
<div class="container">
  <div class="policy-wrapper">
    <h1>Room Price</h1>
    <button
      *ngIf="checkConditions()"
      (click)="openDialog()"
      class="add-btn"
      mat-stroked-button
    >
      Add price
    </button>
    <table mat-table [dataSource]="pricesList" class="mat-elevation-z8">
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef>Name</th>
        <td mat-cell *matCellDef="let element">{{ element.name }}</td>
      </ng-container>

      <ng-container matColumnDef="startDate">
        <th mat-header-cell *matHeaderCellDef>StartDate</th>
        <td mat-cell *matCellDef="let element">{{ element.startDate }}</td>
      </ng-container>

      <ng-container matColumnDef="endDate">
        <th mat-header-cell *matHeaderCellDef>endDate</th>
        <td mat-cell *matCellDef="let element">{{ element.endDate }}</td>
      </ng-container>
      <ng-container matColumnDef="price">
        <th mat-header-cell *matHeaderCellDef>Price</th>
        <td mat-cell *matCellDef="let element">{{ element.roomPrice }} Gel</td>
      </ng-container>
      <ng-container matColumnDef="edit">
        <th mat-header-cell *matHeaderCellDef>Edit</th>
        <td mat-cell *matCellDef="let element">
          <button
            (click)="
              openEditDialog(
                element.name,
                element.startDate,
                element.endDate,
                element.roomPrice
              )
            "
            [disabled]="!checkConditions()"
            mat-raised-button
          >
            Edit
          </button>
        </td>
      </ng-container>
      <ng-container matColumnDef="delete">
        <th mat-header-cell *matHeaderCellDef>Delete</th>
        <td mat-cell *matCellDef="let element">
          <button
            (click)="onDeleteBtnClick(element.name)"
            [disabled]="!checkConditions()"
            mat-raised-button
          >
            Delete
          </button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </div>
</div>
